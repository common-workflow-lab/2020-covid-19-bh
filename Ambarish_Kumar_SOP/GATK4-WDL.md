# Author

AMBARISH KUMAR

er.ambarish@gmail.com

ambari73_sit@jnu.ac.in

## Introduction

WDL enabled GATK4 pipeline for genomic variant discovery serves the purpose of automation and customisarion. GATK4 is a bundled package of gatk  and picard tools. All steps for data pre-processing and variant discoery is piped all together in a single wdl script.


## Input dataset

SARS-CoV-2 reference genome - SARS-CoV-2.fasta

SARS-CoV-2 reference genome dictionary file - SARS-CoV-2.dict

SARS-CoV-2 reference genome index file - SARS-CoV-2.fasta.fai



Paired-end SARS-Cov-2 illumina RNASEQ reads.

- left_reads - SARS-CoV-2_reads1.fq
 
- right_reads - SARS-CoV-2_reads2.fq


#### All input data will reside into working directory where gatk executale reside.


## Description

GATK4.wdl - WDL script file for GATK4 pipeline.

GATK4.json - JSON format input file generated by GATK4.wdl

## Validating GATK4.wdl

java -jar wdltool.jar validate GATK4.wdl

## Generate input for GATK4.wdl

java -jar wdltool.jar inputs GATK4.wdl > GATK4.json

## Setting input file parameters

 - base name for reference genome index file i.e SARS-CoV-2
 
 - Reference genome dictionary file (along with absolute path) i.e home/../../SARS-CoV-2.dict
 
 - Reference genome index file (along with absolute path) i.e /home/../../SARS-CoV-2.fasta.fai
 
 - Reference genome fasta file (along with absolute path) i.e /home/../../SARS-CoV-2.fasta
 
 - Left-end reads (along with absolute path) - /home/../../SARS-CoV-2_reads1.fq

 - Right-end reads (along with absolute path) - /home/../../SARS-CoV-2_reads2.fq
 
 - GATK executables (along with absolute path) - /home/../../gatk


## Running WDL script

Prior runnig GATK4.wdl script, set absolute PATH for bowtie executables to set PATH environment variable mentioned into alignment task 

section of the script.


#### WDL script runs into two mode - server mode and REST-API.

###### Generate JSON format input file - GATK4.json

java -jar wdltool.jar inputs GATK4.wdl > GATK4.json

###### Runnig GATK4.wdl into command-line mode

java -jar cromwell.jar run GATK4.wdl -i GATK4.json

###### Runnig  GATK4.wdl in server mode

java -jar cromwell.jar

It will start CROMWELL REST API

- Browse for input files 

- Submit task


### Future work

Deployment over cloud-infrastructure.
